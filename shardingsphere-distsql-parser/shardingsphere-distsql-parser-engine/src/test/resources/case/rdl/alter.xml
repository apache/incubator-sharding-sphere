<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Licensed to the Apache Software Foundation (ASF) under one or more
  ~ contributor license agreements.  See the NOTICE file distributed with
  ~ this work for additional information regarding copyright ownership.
  ~ The ASF licenses this file to You under the Apache License, Version 2.0
  ~ (the "License"); you may not use this file except in compliance with
  ~ the License.  You may obtain a copy of the License at
  ~
  ~     http://www.apache.org/licenses/LICENSE-2.0
  ~
  ~ Unless required by applicable law or agreed to in writing, software
  ~ distributed under the License is distributed on an "AS IS" BASIS,
  ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  ~ See the License for the specific language governing permissions and
  ~ limitations under the License.
  -->

<sql-parser-test-cases>
    <alter-sharding-table-rule sql-case-id="alter-sharding-table-rule">
        <tables>
            <logicTable name="t_order" />
            <dataSource name="ms_group_0" />
            <dataSource name="ms_group_1" />
            <tableStrategyColumn name="order_id" />
            <keyGenerateStrategyColumn name="another_id" />
            <tableStrategy>
                <algorithmName name="hash_mod"/>
                <algorithmProps>
                    <key>sharding-count</key>
                    <value>4</value>
                </algorithmProps>
            </tableStrategy>
            <keyGenerateStrategy>
                <algorithmName name="snowflake"/>
                <algorithmProps>
                    <key>worker-id</key>
                    <value>123</value>
                </algorithmProps>
            </keyGenerateStrategy>
        </tables>
    </alter-sharding-table-rule>

    <alter-sharding-binding-table-rules sql-case-id = "alter-sharding-binding-table-rules">
        <table name="t_order, t_order_item"/>
        <table name="t_1, t_2" />
    </alter-sharding-binding-table-rules>

    <alter-sharding-broadcast-table-rules sql-case-id = "alter-sharding-broadcast-table-rules">
        <table name = "t_1" />
        <table name = "t_2" />
    </alter-sharding-broadcast-table-rules>

    <alter-readwrite-splitting-rule sql-case-id = "alter-readwrite-splitting-rule">
        <read-write-splitting>
            <name name="ms_group_1" />
            <auto-aware-resource name="group_0" />
            <load-balancer name="random" />
            <props>
                <key>read_weight</key>
                <value>2:1</value>
            </props>
        </read-write-splitting>
        <read-write-splitting>
            <name name="ms_group_1" />
            <write-data-resource name="primary_ds" />
            <read-data-resource>
                <name name="replica_ds_0" />
                <name name="replica_ds_1" />
            </read-data-resource>
            <load-balancer name="random" />
            <props>
                <key>read_weight</key>
                <value>2:1</value>
            </props>
        </read-write-splitting>
    </alter-readwrite-splitting-rule>

    <alter-database-discovery-rule sql-case-id = "alter-database-discovery-rule">
        <database-discovery>
            <name>ha_group_0</name>
            <dataSources>
                <name>resource0</name>
                <name>resource1</name>
            </dataSources>
            <discoveryTypeName>mgr</discoveryTypeName>
            <props>
                <key>keepAliveCron</key>
                <value>""</value>
            </props>
            <props>
                <key>groupName</key>
                <value>92504d5b-6dec</value>
            </props>
        </database-discovery>
        <database-discovery>
            <name>ha_group_1</name>
            <dataSources>
                <name>resource2</name>
                <name>resource3</name>
            </dataSources>
            <discoveryTypeName>mgr2</discoveryTypeName>
            <props>
                <key>keepAliveCron</key>
                <value>""</value>
            </props>
            <props>
                <key>groupName</key>
                <value>92504d5b-6dec</value>
            </props>
        </database-discovery>
    </alter-database-discovery-rule>

    <alter-encrypt-rule sql-case-id = "alter-encrypt-rule">
        <encrypt-column>
            <table>t_encrypt</table>
            <columns>
                <name>user_id</name>
                <plain-column>user_plain</plain-column>
                <cipher-column>user_plain</cipher-column>
                <encryptor>
                    <algorithmName>AES</algorithmName>
                    <algorithmProps>
                        <key>aes-key-value</key>
                        <value>123456abc</value>
                    </algorithmProps>
                </encryptor>
            </columns>
        </encrypt-column>
    </alter-encrypt-rule>
</sql-parser-test-cases>